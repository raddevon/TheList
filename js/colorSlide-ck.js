// TODO: This whole thing is broke as a joke. Fix it by rewriting.
(function(e){e.fn.colorSlide=function(){return this.each(function(){var t=e(this).outerWidth(),n=e(this).outerHeight(),r=e(this).css("border-left-color");e(this).find("a").css({position:"relative","z-index":51});var i=e('<div class="color-slider"></div>');i.css({background:r,width:0,height:n,position:"absolute",top:0,left:0,"z-index":50}).appendTo(e(this));e.fn.sliderOn=function(){e(this).find(".color-slider").css("width",t);return this};e.fn.sliderOff=function(){e(this).find(".color-slider").css("width",0);e(this).closest("li").trigger("deactivated");return this};e.fn.sliderToggle=function(){var t=e(this).find(".color-slider");t.css("width")>0?e(this).sliderOff():e(this).sliderOn();return this};var s=function(){e(this).on("mouseenter",function(){e(this).sliderOn()})},o=function(){e(this).on("mouseleave",function(){e(this).sliderOff()})},u=function(){e(this).on("activated",function(){e(this).unbind("mouseleave").sliderOn().siblings().trigger("deactivated")})},a=function(){e(this).on("deactivated",function(){e(this).sliderOff().removeClass("active").bind("mouseleave",function(){e(this).sliderOff()})})};s();o();u();a()})}})(jQuery);